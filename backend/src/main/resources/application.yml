server:
  port: 8080

spring:
  application:
    name: ai-agent-standalone
  
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    database: 0
    timeout: 5000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0

# AI Agent 配置
aiagent:
  # LLM配置
  llm:
    api-key: ${OPENAI_API_KEY:}
    base-url: ${OPENAI_BASE_URL:https://api.openai.com/v1}
    default-model: ${DEFAULT_MODEL:gpt-4o-mini}
  
  # 模型配置
  model:
    default-model-id: ${DEFAULT_MODEL_ID:gpt-4o-mini}
    task-model-mapping:
      SIMPLE_CHAT: ${DEFAULT_MODEL_ID:gpt-4o-mini}
      RAG_QUERY: ${DEFAULT_MODEL_ID:gpt-4o-mini}
      TOOL_CALL: ${TOOL_MODEL_ID:gpt-4o}
      COMPLEX_WORKFLOW: ${TOOL_MODEL_ID:gpt-4o}
  
  memory:
    short-term-expire-hours: 24
    context-expire-hours: 1
    max-context-window: 20
  
  rag:
    default-top-k: 5
    default-min-score: 0.5
    # 向量存储配置
    embedding-store:
      host: ${PG_HOST:localhost}
      port: ${PG_PORT:5432}
      database: ${PG_DATABASE:aiagent}
      user: ${PG_USER:postgres}
      password: ${PG_PASSWORD:postgres}
      table: embeddings
      use-index: true
      index-list-size: 100
    # 文档分段配置
    document:
      segment-size: 1000
      overlap-size: 50
    # 文件上传配置
    upload:
      path: ${UPLOAD_PATH:./uploads}
      max-file-size: 157286400  # 150MB
      max-zip-size: 1073741824  # 1GB
      max-zip-entries: 10000
  
  tools:
    enabled-by-default: true
  
  # MCP工具配置
  # 注意：MCP服务器配置已迁移到 JSON 文件
  # 默认路径：resources/config/mcp.json（classpath 资源，不支持热加载）
  # 可通过 config-path 指定外部文件路径以支持热加载
  mcp:
    # 是否启用MCP功能
    enabled: true
    # 配置文件路径（可选）
    # 默认：classpath:config/mcp.json（resources/config/mcp.json）
    # 如果指定外部文件路径，则支持热加载
    # config-path: config/mcp.json
    # 是否启用热加载（默认：true，仅对外部文件有效）
    # hot-reload: true

# SpringDoc API 文档
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html


